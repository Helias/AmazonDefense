<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AmazonDefence</title>

    <!-- own css -->
    <link rel="stylesheet" href="frontend/css/style.css">

    <!-- css libraries -->
    <link type="text/css" rel="stylesheet" href="frontend/materialize/css/materialize.css"  media="screen,projection"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
    
    <nav style="opacity: 0.9">
        <div class="nav-wrapper teal" style="display: block; align-items: baseline; margin: 0 auto;">
                <img src="frontend/media/icon.png" alt="" style="margin: 0 auto; padding-top: 8px; display: block; width: 50px; "></img>
        </div>
    </nav>  

    <div class="container">

        <div class="row">
            <div class="col s2"></div>
            <div class="col s8 formbox">
                <div class="card-panel teal">
                    <div class="content">

                        <div class="title">Amazon Defence</div>
                        
                        <div class="quote-container">
                            <p class="quote"><i>Il cambiamento climatico è una realtà e sta già provocando impatti e fenomeni di frequenza e intensità mai visti nella storia umana e con essi sofferenze, perdita di vite, sconvolgimento degli ecosistemi e della ricchezza di biodiversità che sostengono la nostra vita.</i></p>
                        </div>

                        <div class="input-field">
                            <input placeholder="First name" id="first_name" type="text" class="validate">
                        </div>
                        <div class="input-field">
                            <input placeholder="Last name" id="last_name" type="text" class="validate">
                        </div>
                        <div class="input-field">
                            <input placeholder="Email" id="email" type="email" class="validate">
                        </div>

                        <!-- fake captcha -->
                        <div class="input-field">
                            <div class="fake-captcha">
                                <label>
                                    <input data-target="modal1" type="checkbox" class="filled-in modal-trigger" onclick="initGame()" id="checkgame">
                                    <span style="float: left; margin-top: 10px">I'm not a robot</span>
                                    <div style="text-align: right">
                                        <img src="frontend/media/reCaptcha.png" style="text-align:right; width: 35px" alt="">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- submit -->
                        <div style="text-align: center">
                            <a class="btn-floating btn-large waves-effect waves-light brown lighten-2" id="arrow">
                                    <i class="material-icons right">send</i>
                            </a>
                        </div>
                        <div>

                        <!-- Modal Structure -->
                          <div id="modal1" class="modal">
                              <div class="modal-content">
                                <div id="gameCanvas"></div>
                            </div>
                          </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col s2"></div>
        </div>
    </div>

    <!-- !--JavaScript at end of body for optimized loading--> 
    <script src="frontend/materialize/js/materialize.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <input type="hidden" value="0" id="player-init">
    <script>
            let options = {
                dismissible: true,
                onCloseEnd: () => {
                    document.getElementById("player-init").value = 0;
                }
            };
            document.addEventListener('DOMContentLoaded', () => {
                let elems = document.querySelectorAll('.modal');
                let instances = M.Modal.init(elems, options);
            });

            // setTimeout(() => {
            //     let instance = M.Modal.getInstance(document.getElementsByClassName("modal")[0]);
            //     instance.close()
            // }, 3000);

            // <h4>Then show me!</h4>

            document.getElementById("checkgame").checked = false;

            function initGame() {
                document.getElementById("player-init").value = 1;
                M.toast({
                    html: '<b style="font-size: 28px;">Allora dimostramelo, salva gli alberi!</b>',
                    displayLength: 2000,
                    completeCallback: () => { M.toast({
                        html: '<b style="font-size: 28px;">Utilizza le frecce direzionali per muoverti ←↑→↓</b>',
                        displayLength: 2000,
                        completeCallback: () => {
                            M.toast({ html: '<b style="font-size: 28px;">Utilizza spazio <sub><i class="material-icons">space_bar</i></sub> per colpire i nemici</b>', displayLength: 2000 })
                        }
                    }) }
                })
            }

    </script>
</body>
</html>


